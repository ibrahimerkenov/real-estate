"use strict";function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,e=function(){};return{s:e,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)});var menuLink=document.querySelector(".menu-link"),sidebar=document.querySelector(".sidebar"),widgets=document.querySelectorAll(".widget"),cardsHidden=document.querySelectorAll(".card--hidden"),distanceSomeCheckboxs=document.querySelectorAll("[data-some-checkbox]"),distanceCheckboxAny=document.querySelector("#distance-to-metro-5"),addOptionsShowMoreBtn=document.querySelector(".add-options__show-more"),addOptionsCheckboxHidden=document.querySelectorAll(".add-options__checkbox--hidden"),btnResetCheckbox=document.querySelector(".form-btn--reset"),allInputs=document.querySelectorAll("input"),btnSubmit=document.querySelector(".form-btn--apply");menuLink.addEventListener("click",function(){menuLink.classList.toggle("menu-link--active"),sidebar.classList.toggle("sidebar--active"),document.body.classList.toggle("overflow-hidden")}),widgets.forEach(function(t){t.addEventListener("click",function(t){t.target.classList.contains("widget__title")&&((t=t.target).classList.toggle("widget__title--active"),t.nextElementSibling.classList.toggle("widget__body--hidden"))})}),distanceCheckboxAny.addEventListener("change",function(){distanceCheckboxAny.checked&&distanceSomeCheckboxs.forEach(function(t){t.checked=!1})}),distanceSomeCheckboxs.forEach(function(t){t.addEventListener("change",function(){distanceCheckboxAny.checked&&(distanceCheckboxAny.checked=!1)})}),addOptionsShowMoreBtn.addEventListener("click",function(t){t.preventDefault();t=addOptionsShowMoreBtn.dataset.showValue;"hidden"===t?(addOptionsCheckboxHidden.forEach(function(t){t.classList.remove("add-options__checkbox--hidden")}),addOptionsShowMoreBtn.textContent="Скрыть",addOptionsShowMoreBtn.dataset.showValue="visible"):"visible"===t&&(addOptionsCheckboxHidden.forEach(function(t){t.classList.add("add-options__checkbox--hidden")}),addOptionsShowMoreBtn.textContent="Показать еще",addOptionsShowMoreBtn.dataset.showValue="hidden")}),btnResetCheckbox.addEventListener("click",function(t){t.preventDefault(),allInputs.forEach(function(t){t.checked=!1})}),btnSubmit.addEventListener("click",function(t){t.preventDefault()});var requestUrl="json/real-estate.json",xhr=new XMLHttpRequest;function loadRealEstate(t){for(var e=t,o=document.getElementById("cards-holder"),n=document.getElementById("pagination"),r=Math.ceil(e.length/6),a=1;a<=r;a++)n.insertAdjacentHTML("beforeend",'\n\t\t\t<li class="pagination__item">'.concat(a,"</li>\n\t\t"));t=document.querySelectorAll(".pagination__item");d(t[0],e);var c,i=_createForOfIteratorHelper(t);try{for(i.s();!(c=i.n()).done;)!function(){var t=c.value;t.addEventListener("click",function(){d(t,e),window.scrollTo({top:0,behavior:"smooth"})})}()}catch(t){i.e(t)}finally{i.f()}function d(t,e){var n=document.querySelector(".pagination__item--active");n&&n.classList.remove("pagination__item--active"),t.classList.add("pagination__item--active");n=6*(+t.innerHTML-1),t=6+n,t=e.slice(n,t);o.innerHTML="",t.forEach(function(t){o.insertAdjacentHTML("beforeend",'\n  \t \t\t<a class="card" href="#">\n  \t \t\t\t<div class="card__offers">\n  \t \t\t\t\t<p class="card__offer card__offer--class">'.concat(t.class,'</p>\n  \t \t\t\t\t<p class="card__offer card__offer--credit">').concat(t.credit,'</p>\n  \t \t\t\t</div>\n  \t \t\t\t<div class="card__img">\n  \t \t\t\t\t<img src=').concat(t.image," alt=").concat(t.name,'>\n  \t \t\t\t</div>\n  \t \t\t\t<div class="card__content">\n  \t \t\t\t\t<h4 class="card__title">').concat(t.name,'</h4>\n  \t \t\t\t\t<div class="card__term">').concat(t.term,'</div>\n  \t \t\t\t\t<div class="card__metro">').concat(t.metro,'</div>\n  \t \t\t\t\t<div class="card__address">').concat(t.address,"</div>\n  \t \t\t\t</div>\n  \t \t\t</a>\n  \t \t"))}),document.querySelectorAll(".card").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault()})})}}xhr.onreadystatechange=function(){4===this.readyState&&200===this.status&&loadRealEstate(JSON.parse(xhr.response))},xhr.open("GET",requestUrl),xhr.send();